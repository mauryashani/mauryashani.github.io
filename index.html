<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        h1,h2{text-align: center;}
        h2{padding: 5px background: #ddd;}
    </style>
</head>
	<body>
	<div class="container">
	<h1> Network Connection Type</h1>
	<h2 id="networkType"> </h2>
                <script type="text/javascript">
//            networkConnectionType={};
//            function networkInformation() {
//                    var networkState = navigator.connection.type || navigator.mozConnection.type || navigator.webkitConnection.type;
//
//                    var downMax=navigator.connection.downlinkMax || navigator.mozConnection.downlinkMax || navigator.webkitConnection.downlinkMax;
//                    networkConnectionType.connectionSpeed = downMax*1000;
//                    downMax = downMax*1000;
//                    if(networkState == "cellular") {
//                        if(downMax >= 100000) {
//                            networkConnectionType.networkName = "4G";
//                        }
//                        if(downMax >= 42000 && downMax < 100000) {
//                            networkConnectionType.networkName = "3G";
//                        }
//                        if(downMax < 42000) {
//                            networkConnectionType.networkName = "2G";
//                        }
//                    }
//                    else if(networkState=='wifi'){
//                        networkConnectionType.networkName="wifi";
//                    }
//                    else if(networkState=='unknown'){
//                        networkConnectionType.networkName="unknown";
//                    }
//                    else if(networkState=='ethernet'){
//                        networkConnectionType.networkName="ethernet";
//                    }
//                    else if(networkState=='other'){
//                        networkConnectionType.networkName="other";
//                    }
//                    else{
//                        networkConnectionType.networkName="none";
//                    }
//
//                        document.getElementById('networkType').innerHTML=networkConnectionType.networkName
//            }
//            networkInformation();
                    // function networkInformation(){var a=navigator.connection.type||navigator.mozConnection.type||navigator.webkitConnection.type,b=navigator.connection.downlinkMax||navigator.mozConnection.downlinkMax||navigator.webkitConnection.downlinkMax;networkConnectionType.connectionSpeed=1e3*b,b=1e3*b,"cellular"==a?(b>=1e5&&(networkConnectionType.networkName="4G"),b>=42e3&&b<1e5&&(networkConnectionType.networkName="3G"),b<42e3&&(networkConnectionType.networkName="2G")):"wifi"==a?networkConnectionType.networkName="wifi":"unknown"==a?networkConnectionType.networkName="unknown":"ethernet"==a?networkConnectionType.networkName="ethernet":"other"==a?networkConnectionType.networkName="other":networkConnectionType.networkName="none",document.getElementById("networkType").innerHTML=networkConnectionType.networkName}networkConnectionType={},networkInformation();

                    networkConnectionType={};

                    function networkInformation() {
                      if(navigator.connection !=null){
                        var networkState = navigator.connection.type || navigator.mozConnection.type || navigator.webkitConnection.type;
                        downMax=navigator.connection.downlinkMax || navigator.mozConnection.downlinkMax || navigator.webkitConnection.downlinkMax;
                        var connectionSpeed = downMax*1000;
                        if(connectionSpeed=='infinity'){
                          networkType='wifi';
                        }
                        else if(connectionSpeed !="unknown"){
                          if(connectionSpeed < 42000){alert('2g')
                            networkType="2G";
                          }
                          else if(connectionSpeed>=42000 && connectionSpeed < 100000){alert('3g')
                            networkType="3G";
                          }
                          else if(connectionSpeed>=100000){alert('4g')
                            networkType="4G";
                          }
                        }
                        else{
                          if(networkState){
                            if(networkState=="2"  || networkState=="3" ||networkState=="4" ||networkState=="5" || networkState=="none" || networkState=="bluetooth" || networkState=="cellular"){
                              networkType="2G";alert('2,3,4,5,none,bluetooth,cellular')
                            }
                            else if(networkState=='wifi' || networkState=='ethernet'){
                              networkType="wifi";alert(' w wifi')
                            }
                            else{
                              networkType="unknown";alert(' w unknown')
                            }
                          }
                        }

                      }
                      networkConnectionType.networkType=networkType;
                      document.getElementById('networkType').innerHTML=networkType;
                    }
networkInformation();
        </script>

	</body>
</html>
